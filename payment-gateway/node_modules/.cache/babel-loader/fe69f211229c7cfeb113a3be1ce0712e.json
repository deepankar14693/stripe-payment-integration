{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dranswal\\\\Desktop\\\\stripe\\\\stripe-payment-gateway-integration\\\\src\\\\Stripe\\\\StripeButton.js\";\nimport React from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios';\nconst STRIPE_PUBLISHABLE_KEY = \"pk_test_xhdQo7Yxcg3KkoOjw10dSdjy00qxcj4tso\";\n\nconst onToken = (amount, description) => token => {\n  debugger;\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  axios.post('http://localhost:3001/api/payments', {\n    description,\n    token: token,\n    amount: amount\n  }, {\n    headers: headers\n  }).then(response => {\n    console.log('response: ', response);\n    alert(\"payment success\", response);\n  }).catch(err => {\n    console.log('error: ', err);\n    alert(\"payment failure\", err);\n  });\n};\n\nconst Checkout = ({\n  name,\n  amount,\n  description\n}) => React.createElement(StripeCheckout, {\n  className: \"App-link\",\n  label: \"Purchase via card\",\n  name: name,\n  description: description,\n  amount: amount,\n  token: onToken(amount, description),\n  stripeKey: STRIPE_PUBLISHABLE_KEY,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n});\n\nexport default Checkout;","map":{"version":3,"sources":["C:\\Users\\dranswal\\Desktop\\stripe\\stripe-payment-gateway-integration\\src\\Stripe\\StripeButton.js"],"names":["React","StripeCheckout","axios","STRIPE_PUBLISHABLE_KEY","onToken","amount","description","token","headers","post","then","response","console","log","alert","catch","err","Checkout","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,sBAAsB,GAAG,4CAA/B;;AAEA,MAAMC,OAAO,GAAG,CAACC,MAAD,EAASC,WAAT,KAAyBC,KAAK,IAAI;AAChD;AACA,QAAMC,OAAO,GAAG;AACd,oBAAgB;AADF,GAAhB;AAGAN,EAAAA,KAAK,CAACO,IAAN,CAAW,oCAAX,EAAiD;AAAEH,IAAAA,WAAF;AAAeC,IAAAA,KAAK,EAAEA,KAAtB;AAA6BF,IAAAA,MAAM,EAAEA;AAArC,GAAjD,EAAgG;AAAEG,IAAAA,OAAO,EAAEA;AAAX,GAAhG,EACGE,IADH,CACQC,QAAQ,IAAI;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,QAA1B;AACAG,IAAAA,KAAK,CAAC,iBAAD,EAAoBH,QAApB,CAAL;AACD,GAJH,EAKGI,KALH,CAKSC,GAAG,IAAI;AACZJ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBG,GAAvB;AACAF,IAAAA,KAAK,CAAC,iBAAD,EAAoBE,GAApB,CAAL;AACD,GARH;AASD,CAdD;;AAgBA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQb,EAAAA,MAAR;AAAgBC,EAAAA;AAAhB,CAAD,KACf,oBAAC,cAAD;AACE,EAAA,SAAS,EAAC,UADZ;AAEE,EAAA,KAAK,EAAC,mBAFR;AAGE,EAAA,IAAI,EAAEY,IAHR;AAIE,EAAA,WAAW,EAAEZ,WAJf;AAKE,EAAA,MAAM,EAAED,MALV;AAME,EAAA,KAAK,EAAED,OAAO,CAACC,MAAD,EAASC,WAAT,CANhB;AAOE,EAAA,SAAS,EAAEH,sBAPb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF;;AAWA,eAAec,QAAf","sourcesContent":["import React from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport axios from 'axios';\r\n\r\nconst STRIPE_PUBLISHABLE_KEY = \"pk_test_xhdQo7Yxcg3KkoOjw10dSdjy00qxcj4tso\";\r\n\r\nconst onToken = (amount, description) => token => {\r\n  debugger\r\n  const headers = {\r\n    'Content-Type': 'application/json'\r\n  }\r\n  axios.post('http://localhost:3001/api/payments', { description, token: token, amount: amount }, { headers: headers })\r\n    .then(response => {\r\n      console.log('response: ', response);\r\n      alert(\"payment success\", response);\r\n    })\r\n    .catch(err => {\r\n      console.log('error: ', err);\r\n      alert(\"payment failure\", err);\r\n    })\r\n}\r\n\r\nconst Checkout = ({ name, amount, description }) =>\r\n  <StripeCheckout\r\n    className=\"App-link\"\r\n    label=\"Purchase via card\"\r\n    name={name}\r\n    description={description}\r\n    amount={amount}\r\n    token={onToken(amount, description)}\r\n    stripeKey={STRIPE_PUBLISHABLE_KEY}\r\n  />\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}